/*
 * Masonry PACKAGED v3.1.5
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
!function(A){function B(){}function C(E){function F(I){I.prototype.option||(I.prototype.option=function(J){E.isPlainObject(J)&&(this.options=E.extend(!0,this.options,J))})}function G(I,J){E.fn[I]=function(O){if("string"==typeof O){for(var Q=D.call(arguments,1),M=0,N=this.length;N>M;M++){var L=this[M],P=E.data(L,I);if(P){if(E.isFunction(P[O])&&"_"!==O.charAt(0)){var K=P[O].apply(P,Q);if(void 0!==K){return K}}else{H("no such method '"+O+"' for "+I+" instance")}}else{H("cannot call methods on "+I+" prior to initialization; attempted to call '"+O+"'")}}return this}return this.each(function(){var R=E.data(this,I);R?(R.option(O),R._init()):(R=new J(this,O),E.data(this,I,R))})}}if(E){var H="undefined"==typeof console?B:function(I){console.error(I)};return E.bridget=function(I,J){F(J),G(I,J)},E.bridget}}var D=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],C):C(A.jQuery)}(window),function(A){function B(G){var H=A.event;return H.target=H.target||H.srcElement||G,H}var C=document.documentElement,D=function(){};C.addEventListener?D=function(G,H,I){G.addEventListener(H,I,!1)}:C.attachEvent&&(D=function(G,H,I){G[H+I]=I.handleEvent?function(){var J=B(G);I.handleEvent.call(I,J)}:function(){var J=B(G);I.call(G,J)},G.attachEvent("on"+H,G[H+I])});var E=function(){};C.removeEventListener?E=function(G,H,I){G.removeEventListener(H,I,!1)}:C.detachEvent&&(E=function(G,H,I){G.detachEvent("on"+H,G[H+I]);try{delete G[H+I]}catch(J){G[H+I]=void 0}});var F={bind:D,unbind:E};"function"==typeof define&&define.amd?define("eventie/eventie",F):"object"==typeof exports?module.exports=F:A.eventie=F}(this),function(A){function B(G){"function"==typeof G&&(B.isReady?G():F.push(G))}function C(H){var I="readystatechange"===H.type&&"complete"!==E.readyState;if(!B.isReady&&!I){B.isReady=!0;for(var J=0,K=F.length;K>J;J++){var G=F[J];G()}}}function D(G){return G.bind(E,"DOMContentLoaded",C),G.bind(E,"readystatechange",C),G.bind(A,"load",C),B}var E=A.document,F=[];B.isReady=!1,"function"==typeof define&&define.amd?(B.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],D)):A.docReady=D(A.eventie)}(this),function(){function A(){}function B(G,H){for(var I=G.length;I--;){if(G[I].listener===H){return I}}return -1}function C(G){return function(){return this[G].apply(this,arguments)}}var D=A.prototype,E=this,F=E.EventEmitter;D.getListeners=function(G){var H,I,J=this._getEvents();if(G instanceof RegExp){H={};for(I in J){J.hasOwnProperty(I)&&G.test(I)&&(H[I]=J[I])}}else{H=J[G]||(J[G]=[])}return H},D.flattenListeners=function(G){var H,I=[];for(H=0;H<G.length;H+=1){I.push(G[H].listener)}return I},D.getListenersAsObject=function(G){var H,I=this.getListeners(G);return I instanceof Array&&(H={},H[G]=I),H||I},D.addListener=function(G,H){var I,J=this.getListenersAsObject(G),K="object"==typeof H;for(I in J){J.hasOwnProperty(I)&&-1===B(J[I],H)&&J[I].push(K?H:{listener:H,once:!1})}return this},D.on=C("addListener"),D.addOnceListener=function(G,H){return this.addListener(G,{listener:H,once:!0})},D.once=C("addOnceListener"),D.defineEvent=function(G){return this.getListeners(G),this},D.defineEvents=function(G){for(var H=0;H<G.length;H+=1){this.defineEvent(G[H])}return this},D.removeListener=function(G,H){var I,J,K=this.getListenersAsObject(G);for(J in K){K.hasOwnProperty(J)&&(I=B(K[J],H),-1!==I&&K[J].splice(I,1))}return this},D.off=C("removeListener"),D.addListeners=function(G,H){return this.manipulateListeners(!1,G,H)},D.removeListeners=function(G,H){return this.manipulateListeners(!0,G,H)},D.manipulateListeners=function(G,H,I){var J,K,L=G?this.removeListener:this.addListener,M=G?this.removeListeners:this.addListeners;if("object"!=typeof H||H instanceof RegExp){for(J=I.length;J--;){L.call(this,H,I[J])}}else{for(J in H){H.hasOwnProperty(J)&&(K=H[J])&&("function"==typeof K?L.call(this,J,K):M.call(this,J,K))}}return this},D.removeEvent=function(G){var H,I=typeof G,J=this._getEvents();if("string"===I){delete J[G]}else{if(G instanceof RegExp){for(H in J){J.hasOwnProperty(H)&&G.test(H)&&delete J[H]}}else{delete this._events}}return this},D.removeAllListeners=C("removeEvent"),D.emitEvent=function(G,H){var I,J,K,L,M=this.getListenersAsObject(G);for(K in M){if(M.hasOwnProperty(K)){for(J=M[K].length;J--;){I=M[K][J],I.once===!0&&this.removeListener(G,I.listener),L=I.listener.apply(this,H||[]),L===this._getOnceReturnValue()&&this.removeListener(G,I.listener)}}}return this},D.trigger=C("emitEvent"),D.emit=function(G){var H=Array.prototype.slice.call(arguments,1);return this.emitEvent(G,H)},D.setOnceReturnValue=function(G){return this._onceReturnValue=G,this},D._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},D._getEvents=function(){return this._events||(this._events={})},A.noConflict=function(){return E.EventEmitter=F,A},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return A}):"object"==typeof module&&module.exports?module.exports=A:this.EventEmitter=A}.call(this),function(A){function B(E){if(E){if("string"==typeof D[E]){return E}E=E.charAt(0).toUpperCase()+E.slice(1);for(var F,G=0,H=C.length;H>G;G++){if(F=C[G]+E,"string"==typeof D[F]){return F}}}}var C="Webkit Moz ms Ms O".split(" "),D=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return B}):"object"==typeof exports?module.exports=B:A.getStyleProperty=B}(window),function(A){function B(H){var I=parseFloat(H),J=-1===H.indexOf("%")&&!isNaN(I);return J&&I}function C(){for(var H={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},I=0,J=G.length;J>I;I++){var K=G[I];H[K]=0}return H}function D(I){function K(b){if("string"==typeof b&&(b=document.querySelector(b)),b&&"object"==typeof b&&b.nodeType){var c=F(b);if("none"===c.display){return C()}var f={};f.width=b.offsetWidth,f.height=b.offsetHeight;for(var V=f.isBorderBox=!(!L||!c[L]||"border-box"!==c[L]),W=0,X=G.length;X>W;W++){var Y=G[W],Z=c[Y];Z=J(b,Z);var N=parseFloat(Z);f[Y]=isNaN(N)?0:N}var O=f.paddingLeft+f.paddingRight,P=f.paddingTop+f.paddingBottom,Q=f.marginLeft+f.marginRight,R=f.marginTop+f.marginBottom,S=f.borderLeftWidth+f.borderRightWidth,T=f.borderTopWidth+f.borderBottomWidth,U=V&&H,g=B(c.width);g!==!1&&(f.width=g+(U?0:O+S));var M=B(c.height);return M!==!1&&(f.height=M+(U?0:P+T)),f.innerWidth=f.width-(O+S),f.innerHeight=f.height-(P+T),f.outerWidth=f.width+Q,f.outerHeight=f.height+R,f}}function J(M,N){if(E||-1===N.indexOf("%")){return N}var O=M.style,P=O.left,Q=M.runtimeStyle,R=Q&&Q.left;return R&&(Q.left=M.currentStyle.left),O.left=N,N=O.pixelLeft,O.left=P,R&&(Q.left=R),N}var H,L=I("boxSizing");return function(){if(L){var M=document.createElement("div");M.style.width="200px",M.style.padding="1px 2px 3px 4px",M.style.borderStyle="solid",M.style.borderWidth="1px 2px 3px 4px",M.style[L]="border-box";var N=document.body||document.documentElement;N.appendChild(M);var O=F(M);H=200===B(O.width),N.removeChild(M)}}(),K}var E=A.getComputedStyle,F=E?function(H){return E(H,null)}:function(H){return H.currentStyle},G=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],D):"object"==typeof exports?module.exports=D(require("get-style-property")):A.getSize=D(A.getStyleProperty)}(window),function(C,D){function E(K,L){return K[J](L)}function F(K){if(!K.parentNode){var L=document.createDocumentFragment();L.appendChild(K)}}function G(K,L){F(K);for(var M=K.parentNode.querySelectorAll(L),N=0,O=M.length;O>N;N++){if(M[N]===K){return !0}}return !1}function H(K,L){return F(K),E(K,L)}var I,J=function(){if(D.matchesSelector){return"matchesSelector"}for(var K=["webkit","moz","ms","o"],L=0,M=K.length;M>L;L++){var N=K[L],O=N+"MatchesSelector";if(D[O]){return O}}}();if(J){var A=document.createElement("div"),B=E(A,"div");I=B?E:H}else{I=G}"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return I}):window.matchesSelector=I}(this,Element.prototype),function(A){function B(H,I){for(var J in I){H[J]=I[J]}return H}function C(H){for(var I in H){return !1}return I=null,!0}function D(H){return H.replace(/([A-Z])/g,function(I){return"-"+I.toLowerCase()})}function E(O,P,Q){function V(W,X){W&&(this.element=W,this.layout=X,this.position={x:0,y:0},this._create())}var H=Q("transition"),I=Q("transform"),J=H&&I,K=!!Q("perspective"),L={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[H],M=["transform","transition","transitionDuration","transitionProperty"],N=function(){for(var W={},X=0,Y=M.length;Y>X;X++){var Z=M[X],f=Q(Z);f&&f!==Z&&(W[Z]=f)}return W}();B(V.prototype,O.prototype),V.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},V.prototype.handleEvent=function(W){var X="on"+W.type;this[X]&&this[X](W)},V.prototype.getSize=function(){this.size=P(this.element)},V.prototype.css=function(W){var X=this.element.style;for(var Y in W){var Z=N[Y]||Y;X[Z]=W[Y]}},V.prototype.getPosition=function(){var X=G(this.element),Y=this.layout.options,Z=Y.isOriginLeft,g=Y.isOriginTop,i=parseInt(X[Z?"left":"right"],10),j=parseInt(X[g?"top":"bottom"],10);i=isNaN(i)?0:i,j=isNaN(j)?0:j;var W=this.layout.size;i-=Z?W.paddingLeft:W.paddingRight,j-=g?W.paddingTop:W.paddingBottom,this.position.x=i,this.position.y=j},V.prototype.layoutPosition=function(){var W=this.layout.size,X=this.layout.options,Y={};X.isOriginLeft?(Y.left=this.position.x+W.paddingLeft+"px",Y.right=""):(Y.right=this.position.x+W.paddingRight+"px",Y.left=""),X.isOriginTop?(Y.top=this.position.y+W.paddingTop+"px",Y.bottom=""):(Y.bottom=this.position.y+W.paddingBottom+"px",Y.top=""),this.css(Y),this.emitEvent("layout",[this])};var R=K?function(W,X){return"translate3d("+W+"px, "+X+"px, 0)"}:function(W,X){return"translate("+W+"px, "+X+"px)"};V.prototype._transitionTo=function(Z,l){this.getPosition();var m=this.position.x,n=this.position.y,o=parseInt(Z,10),p=parseInt(l,10),q=o===this.position.x&&p===this.position.y;if(this.setPosition(Z,l),q&&!this.isTransitioning){return void this.layoutPosition()}var r=Z-m,W=l-n,X={},Y=this.layout.options;r=Y.isOriginLeft?r:-r,W=Y.isOriginTop?W:-W,X.transform=R(r,W),this.transition({to:X,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},V.prototype.goTo=function(W,X){this.setPosition(W,X),this.layoutPosition()},V.prototype.moveTo=J?V.prototype._transitionTo:V.prototype.goTo,V.prototype.setPosition=function(W,X){this.position.x=parseInt(W,10),this.position.y=parseInt(X,10)},V.prototype._nonTransition=function(W){this.css(W.to),W.isCleaning&&this._removeStyles(W.to);for(var X in W.onTransitionEnd){W.onTransitionEnd[X].call(this)}},V.prototype._transition=function(W){if(!parseFloat(this.layout.options.transitionDuration)){return void this._nonTransition(W)}var X=this._transn;for(var Y in W.onTransitionEnd){X.onEnd[Y]=W.onTransitionEnd[Y]}for(Y in W.to){X.ingProperties[Y]=!0,W.isCleaning&&(X.clean[Y]=!0)}if(W.from){this.css(W.from);var Z=this.element.offsetHeight;Z=null}this.enableTransition(W.to),this.css(W.to),this.isTransitioning=!0};var S=I&&D(I)+",opacity";V.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:S,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(L,this,!1))},V.prototype.transition=V.prototype[H?"_transition":"_nonTransition"],V.prototype.onwebkitTransitionEnd=function(W){this.ontransitionend(W)},V.prototype.onotransitionend=function(W){this.ontransitionend(W)};var T={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};V.prototype.ontransitionend=function(W){if(W.target===this.element){var X=this._transn,Y=T[W.propertyName]||W.propertyName;if(delete X.ingProperties[Y],C(X.ingProperties)&&this.disableTransition(),Y in X.clean&&(this.element.style[W.propertyName]="",delete X.clean[Y]),Y in X.onEnd){var Z=X.onEnd[Y];Z.call(this),delete X.onEnd[Y]}this.emitEvent("transitionEnd",[this])}},V.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(L,this,!1),this.isTransitioning=!1},V.prototype._removeStyles=function(W){var X={};for(var Y in W){X[Y]=""}this.css(X)};var U={transitionProperty:"",transitionDuration:""};return V.prototype.removeTransitionStyles=function(){this.css(U)},V.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},V.prototype.remove=function(){if(!H||!parseFloat(this.layout.options.transitionDuration)){return void this.removeElem()}var W=this;this.on("transitionEnd",function(){return W.removeElem(),!0}),this.hide()},V.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var W=this.layout.options;this.transition({from:W.hiddenStyle,to:W.visibleStyle,isCleaning:!0})},V.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var W=this.layout.options;this.transition({from:W.visibleStyle,to:W.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},V.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},V}var F=A.getComputedStyle,G=F?function(H){return F(H,null)}:function(H){return H.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],E):(A.Outlayer={},A.Outlayer.Item=E(A.EventEmitter,A.getSize,A.getStyleProperty))}(window),function(G){function H(O,P){for(var Q in P){O[Q]=P[Q]}return O}function I(O){return"[object Array]"===D.call(O)}function J(O){var P=[];if(I(O)){P=O}else{if(O&&"number"==typeof O.length){for(var Q=0,R=O.length;R>Q;Q++){P.push(O[Q])}}else{P.push(O)}}return P}function K(O,P){var Q=F(P,O);-1!==Q&&P.splice(Q,1)}function L(O){return O.replace(/(.)([A-Z])/g,function(P,Q,R){return Q+"-"+R}).toLowerCase()}function M(S,T,O,P,Q,R){function U(X,Y){if("string"==typeof X&&(X=N.querySelector(X)),!X||!E(X)){return void (A&&A.error("Bad "+this.constructor.namespace+" element: "+X))}this.element=X,this.options=H({},this.constructor.defaults),this.option(Y);var Z=++V;this.element.outlayerGUID=Z,W[Z]=this,this._create(),this.options.isInitLayout&&this.layout()}var V=0,W={};return U.namespace="outlayer",U.Item=R,U.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},H(U.prototype,O.prototype),U.prototype.option=function(X){H(this.options,X)},U.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),H(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},U.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},U.prototype._itemize=function(X){for(var Y=this._filterFindItemElements(X),Z=this.constructor.Item,i=[],j=0,k=Y.length;k>j;j++){var l=Y[j],m=new Z(l,this);i.push(m)}return i},U.prototype._filterFindItemElements=function(Z){Z=J(Z);for(var d=this.options.itemSelector,k=[],l=0,m=Z.length;m>l;l++){var n=Z[l];if(E(n)){if(d){Q(n,d)&&k.push(n);for(var o=n.querySelectorAll(d),X=0,Y=o.length;Y>X;X++){k.push(o[X])}}else{k.push(n)}}}return k},U.prototype.getItemElements=function(){for(var X=[],Y=0,Z=this.items.length;Z>Y;Y++){X.push(this.items[Y].element)}return X},U.prototype.layout=function(){this._resetLayout(),this._manageStamps();var X=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,X),this._isLayoutInited=!0},U.prototype._init=U.prototype.layout,U.prototype._resetLayout=function(){this.getSize()},U.prototype.getSize=function(){this.size=P(this.element)},U.prototype._getMeasurement=function(X,Y){var Z,e=this.options[X];e?("string"==typeof e?Z=this.element.querySelector(e):E(e)&&(Z=e),this[X]=Z?P(Z)[Y]:e):this[X]=0},U.prototype.layoutItems=function(X,Y){X=this._getItemsForLayout(X),this._layoutItems(X,Y),this._postLayout()},U.prototype._getItemsForLayout=function(X){for(var Y=[],Z=0,f=X.length;f>Z;Z++){var g=X[Z];g.isIgnored||Y.push(g)}return Y},U.prototype._layoutItems=function(Y,Z){function j(){k.emitEvent("layoutComplete",[k,Y])}var k=this;if(!Y||!Y.length){return void j()}this._itemsOn(Y,"layout",j);for(var l=[],m=0,n=Y.length;n>m;m++){var o=Y[m],X=this._getItemLayoutPosition(o);X.item=o,X.isInstant=Z||o.isLayoutInstant,l.push(X)}this._processLayoutQueue(l)},U.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},U.prototype._processLayoutQueue=function(X){for(var Y=0,Z=X.length;Z>Y;Y++){var e=X[Y];this._positionItem(e.item,e.x,e.y,e.isInstant)}},U.prototype._positionItem=function(X,Y,Z,e){e?X.goTo(Y,Z):X.moveTo(Y,Z)},U.prototype._postLayout=function(){this.resizeContainer()},U.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var X=this._getContainerSize();X&&(this._setContainerMeasure(X.width,!0),this._setContainerMeasure(X.height,!1))}},U.prototype._getContainerSize=C,U.prototype._setContainerMeasure=function(X,Y){if(void 0!==X){var Z=this.size;Z.isBorderBox&&(X+=Y?Z.paddingLeft+Z.paddingRight+Z.borderLeftWidth+Z.borderRightWidth:Z.paddingBottom+Z.paddingTop+Z.borderTopWidth+Z.borderBottomWidth),X=Math.max(X,0),this.element.style[Y?"width":"height"]=X+"px"}},U.prototype._itemsOn=function(Z,k,l){function m(){return n++,n===o&&l.call(p),!0}for(var n=0,o=Z.length,p=this,q=0,X=Z.length;X>q;q++){var Y=Z[q];Y.on(k,m)}},U.prototype.ignore=function(X){var Y=this.getItem(X);Y&&(Y.isIgnored=!0)},U.prototype.unignore=function(X){var Y=this.getItem(X);Y&&delete Y.isIgnored},U.prototype.stamp=function(X){if(X=this._find(X)){this.stamps=this.stamps.concat(X);for(var Y=0,Z=X.length;Z>Y;Y++){var e=X[Y];this.ignore(e)}}},U.prototype.unstamp=function(X){if(X=this._find(X)){for(var Y=0,Z=X.length;Z>Y;Y++){var e=X[Y];K(e,this.stamps),this.unignore(e)}}},U.prototype._find=function(X){return X?("string"==typeof X&&(X=this.element.querySelectorAll(X)),X=J(X)):void 0},U.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var X=0,Y=this.stamps.length;Y>X;X++){var Z=this.stamps[X];this._manageStamp(Z)}}},U.prototype._getBoundingRect=function(){var X=this.element.getBoundingClientRect(),Y=this.size;this._boundingRect={left:X.left+Y.paddingLeft+Y.borderLeftWidth,top:X.top+Y.paddingTop+Y.borderTopWidth,right:X.right-(Y.paddingRight+Y.borderRightWidth),bottom:X.bottom-(Y.paddingBottom+Y.borderBottomWidth)}},U.prototype._manageStamp=C,U.prototype._getElementOffset=function(X){var Y=X.getBoundingClientRect(),Z=this._boundingRect,f=P(X),g={left:Y.left-Z.left-f.marginLeft,top:Y.top-Z.top-f.marginTop,right:Z.right-Y.right-f.marginRight,bottom:Z.bottom-Y.bottom-f.marginBottom};return g},U.prototype.handleEvent=function(X){var Y="on"+X.type;this[Y]&&this[Y](X)},U.prototype.bindResize=function(){this.isResizeBound||(S.bind(G,"resize",this),this.isResizeBound=!0)},U.prototype.unbindResize=function(){this.isResizeBound&&S.unbind(G,"resize",this),this.isResizeBound=!1},U.prototype.onresize=function(){function X(){Y.resize(),delete Y.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var Y=this;this.resizeTimeout=setTimeout(X,100)},U.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},U.prototype.needsResizeLayout=function(){var X=P(this.element),Y=this.size&&X;return Y&&X.innerWidth!==this.size.innerWidth},U.prototype.addItems=function(X){var Y=this._itemize(X);return Y.length&&(this.items=this.items.concat(Y)),Y},U.prototype.appended=function(X){var Y=this.addItems(X);Y.length&&(this.layoutItems(Y,!0),this.reveal(Y))},U.prototype.prepended=function(X){var Y=this._itemize(X);if(Y.length){var Z=this.items.slice(0);this.items=Y.concat(Z),this._resetLayout(),this._manageStamps(),this.layoutItems(Y,!0),this.reveal(Y),this.layoutItems(Z)}},U.prototype.reveal=function(X){var Y=X&&X.length;if(Y){for(var Z=0;Y>Z;Z++){var e=X[Z];e.reveal()}}},U.prototype.hide=function(X){var Y=X&&X.length;if(Y){for(var Z=0;Y>Z;Z++){var e=X[Z];e.hide()}}},U.prototype.getItem=function(X){for(var Y=0,Z=this.items.length;Z>Y;Y++){var e=this.items[Y];if(e.element===X){return e}}},U.prototype.getItems=function(X){if(X&&X.length){for(var Y=[],Z=0,g=X.length;g>Z;Z++){var h=X[Z],i=this.getItem(h);i&&Y.push(i)}return Y}},U.prototype.remove=function(X){X=J(X);var Y=this.getItems(X);if(Y&&Y.length){this._itemsOn(Y,"remove",function(){this.emitEvent("removeComplete",[this,Y])});for(var Z=0,d=Y.length;d>Z;Z++){var e=Y[Z];e.remove(),K(e,this.items)}}},U.prototype.destroy=function(){var X=this.element.style;X.height="",X.position="",X.width="";for(var Y=0,Z=this.items.length;Z>Y;Y++){var e=this.items[Y];e.destroy()}this.unbindResize(),delete this.element.outlayerGUID,B&&B.removeData(this.element,this.constructor.namespace)},U.data=function(X){var Y=X&&X.outlayerGUID;return Y&&W[Y]},U.create=function(X,Y){function Z(){U.apply(this,arguments)}return Object.create?Z.prototype=Object.create(U.prototype):H(Z.prototype,U.prototype),Z.prototype.constructor=Z,Z.defaults=H({},U.defaults),H(Z.defaults,Y),Z.prototype.settings={},Z.namespace=X,Z.data=U.data,Z.Item=function(){R.apply(this,arguments)},Z.Item.prototype=new R,T(function(){for(var q=L(X),r=N.querySelectorAll(".js-"+q),s="data-"+q+"-options",t=0,a=r.length;a>t;t++){var d,f=r[t],h=f.getAttribute(s);try{d=h&&JSON.parse(h)}catch(i){A&&A.error("Error parsing "+s+" on "+f.nodeName.toLowerCase()+(f.id?"#"+f.id:"")+": "+i);continue}var j=new Z(f,d);B&&B.data(f,X,j)}}),B&&B.bridget&&B.bridget(X,Z),Z},U.Item=R,U}var N=G.document,A=G.console,B=G.jQuery,C=function(){},D=Object.prototype.toString,E="object"==typeof HTMLElement?function(O){return O instanceof HTMLElement}:function(O){return O&&"object"==typeof O&&1===O.nodeType&&"string"==typeof O.nodeName},F=Array.prototype.indexOf?function(O,P){return O.indexOf(P)}:function(O,P){for(var Q=0,R=O.length;R>Q;Q++){if(O[Q]===P){return Q}}return -1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],M):G.Outlayer=M(G.eventie,G.docReady,G.EventEmitter,G.getSize,G.matchesSelector,G.Outlayer.Item)}(window),function(A){function B(D,E){var F=D.create("masonry");return F.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var G=this.cols;for(this.colYs=[];G--;){this.colYs.push(0)}this.maxY=0},F.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var G=this.items[0],H=G&&G.element;this.columnWidth=H&&E(H).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},F.prototype.getContainerWidth=function(){var G=this.options.isFitWidth?this.element.parentNode:this.element,H=E(G);this.containerWidth=H&&H.innerWidth},F.prototype._getItemLayoutPosition=function(K){K.getSize();var L=K.size.outerWidth%this.columnWidth,M=L&&1>L?"round":"ceil",N=Math[M](K.size.outerWidth/this.columnWidth);N=Math.min(N,this.cols);for(var O=this._getColGroup(N),P=Math.min.apply(Math,O),Q=C(O,P),G={x:this.columnWidth*Q,y:P},H=P+K.size.outerHeight,I=this.cols+1-O.length,J=0;I>J;J++){this.colYs[Q+J]=H}return G},F.prototype._getColGroup=function(G){if(2>G){return this.colYs}for(var H=[],I=this.cols+1-G,J=0;I>J;J++){var K=this.colYs.slice(J,J+G);H[J]=Math.max.apply(Math,K)}return H},F.prototype._manageStamp=function(I){var J=E(I),K=this._getElementOffset(I),L=this.options.isOriginLeft?K.left:K.right,M=L+J.outerWidth,N=Math.floor(L/this.columnWidth);N=Math.max(0,N);var O=Math.floor(M/this.columnWidth);O-=M%this.columnWidth?0:1,O=Math.min(this.cols-1,O);for(var G=(this.options.isOriginTop?K.top:K.bottom)+J.outerHeight,H=N;O>=H;H++){this.colYs[H]=Math.max(G,this.colYs[H])}},F.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var G={height:this.maxY};return this.options.isFitWidth&&(G.width=this._getContainerFitWidth()),G},F.prototype._getContainerFitWidth=function(){for(var G=0,H=this.cols;--H&&0===this.colYs[H];){G++}return(this.cols-G)*this.columnWidth-this.gutter},F.prototype.needsResizeLayout=function(){var G=this.containerWidth;return this.getContainerWidth(),G!==this.containerWidth},F}var C=Array.prototype.indexOf?function(D,E){return D.indexOf(E)}:function(D,E){for(var F=0,G=D.length;G>F;F++){var H=D[F];if(H===E){return F}}return -1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],B):A.Masonry=B(A.Outlayer,A.getSize)}(window);